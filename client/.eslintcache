[{"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\index.js":"1","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\App.js":"2","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\reportWebVitals.js":"3","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\routing\\PrivateRoute.js":"4","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\PrivateScreen.js":"5","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\ForgotPasswordScreen.js":"6","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\RegisterScreen.js":"7","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\ResetPasswordScreen.js":"8","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\LoginScreen.js":"9","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\store\\UserSlice.js":"10","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\service\\saga\\userSaga.js":"11","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\utils\\endPoint.js":"12","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\service\\api\\UserService.js":"13","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\store\\RootReducer.js":"14","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\service\\saga\\RootSaga.js":"15","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\LeftSideBar.js":"16","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\HeaderComp.js":"17","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\DashboardComp.js":"18","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\AddPostScreen.js":"19","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\AddPostComp.js":"20","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\AddSliderScreen.js":"21","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\AddSliderComp.js":"22","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\service\\api\\NewsService.js":"23","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\EditPostScreen.js":"24","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\EditPostComp.js":"25","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\Loading.js":"26"},{"size":1130,"mtime":1663690538624,"results":"27","hashOfConfig":"28"},{"size":2363,"mtime":1669448618216,"results":"29","hashOfConfig":"28"},{"size":375,"mtime":1662982119122,"results":"30","hashOfConfig":"28"},{"size":542,"mtime":1666359166191,"results":"31","hashOfConfig":"28"},{"size":1139,"mtime":1666027554304,"results":"32","hashOfConfig":"28"},{"size":1884,"mtime":1669968405789,"results":"33","hashOfConfig":"28"},{"size":3567,"mtime":1663694335325,"results":"34","hashOfConfig":"28"},{"size":2899,"mtime":1669025312594,"results":"35","hashOfConfig":"28"},{"size":2396,"mtime":1669182347701,"results":"36","hashOfConfig":"28"},{"size":886,"mtime":1663078985285,"results":"37","hashOfConfig":"28"},{"size":681,"mtime":1663690749523,"results":"38","hashOfConfig":"28"},{"size":53,"mtime":1669397867353,"results":"39","hashOfConfig":"28"},{"size":1825,"mtime":1669024514871,"results":"40","hashOfConfig":"28"},{"size":473,"mtime":1663687098199,"results":"41","hashOfConfig":"28"},{"size":152,"mtime":1663690751217,"results":"42","hashOfConfig":"28"},{"size":1044,"mtime":1666027484541,"results":"43","hashOfConfig":"28"},{"size":723,"mtime":1666367843461,"results":"44","hashOfConfig":"28"},{"size":3221,"mtime":1669967014890,"results":"45","hashOfConfig":"28"},{"size":1192,"mtime":1669967257444,"results":"46","hashOfConfig":"28"},{"size":8352,"mtime":1669969420356,"results":"47","hashOfConfig":"28"},{"size":1256,"mtime":1666027537392,"results":"48","hashOfConfig":"28"},{"size":1680,"mtime":1666027414394,"results":"49","hashOfConfig":"28"},{"size":1654,"mtime":1669650638323,"results":"50","hashOfConfig":"28"},{"size":1082,"mtime":1666266666916,"results":"51","hashOfConfig":"28"},{"size":9079,"mtime":1669969433419,"results":"52","hashOfConfig":"28"},{"size":145,"mtime":1666434828617,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"1kgejrl",{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"56"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"56"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"56"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"56"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"56"},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"56"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"56"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"56"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"56"},{"filePath":"102","messages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"56"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"56"},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"56"},{"filePath":"116","messages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118"},{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\index.js",[],["121","122"],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\App.js",["123"],"import { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\n// Routing\r\nimport PrivateRoute from \"./components/routing/PrivateRoute\";\r\n\r\n// Screens\r\nimport PrivateScreen from \"./components/screens/PrivateScreen\";\r\nimport LoginScreen from \"./components/screens/LoginScreen\";\r\nimport RegisterScreen from \"./components/screens/RegisterScreen\";\r\nimport ForgotPasswordScreen from \"./components/screens/ForgotPasswordScreen\";\r\nimport ResetPasswordScreen from \"./components/screens/ResetPasswordScreen\";\r\nimport AddPostScreen from \"./components/screens/AddPostScreen\";\r\nimport AddSliderScreen from \"./components/screens/AddSliderScreen\";\r\nimport EditPostScreen from \"./components/screens/EditPostScreen\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n  const user = useSelector(state=>state.userAuth.user)\r\n  axios.interceptors.request.use(function (config) {\r\n    // Do something before request is sent\r\n    if(user){\r\n      config.headers.Authorization = `Bearer ${user.token}`;\r\n    }\r\n   \r\n\r\n    return config;\r\n  }, function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n  });\r\n  axios.interceptors.response.use(function (config) {\r\n    // Do something before request is sent\r\n    if(user){\r\n      config.headers.Authorization = `Bearer ${user.token}`;\r\n    }\r\n    return config;\r\n  }, function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n  });\r\n\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"app\">\r\n          <PrivateRoute exact path=\"/add-post\" component={AddPostScreen} />\r\n          <PrivateRoute exact path=\"/edit-post/:newsId\" component={EditPostScreen} />\r\n          <PrivateRoute exact path=\"/add-slide\" component={AddSliderScreen} />\r\n          \r\n          <PrivateRoute exact path=\"/\" component={PrivateScreen} />\r\n          <Route exact path=\"/login\" component={LoginScreen} />\r\n          <Route exact path=\"/register\" component={RegisterScreen} />\r\n          <Route\r\n            exact\r\n            path=\"/forgotpassword\"\r\n            component={ForgotPasswordScreen}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/passwordreset/:resetToken\"\r\n            component={ResetPasswordScreen}\r\n          />\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\reportWebVitals.js",[],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\routing\\PrivateRoute.js",["124"],"import { useLocation, Route, Redirect } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const location = useLocation();\r\n  const user = useSelector((state) => state.userAuth.user);\r\n  \r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        Object.keys(user).length !==0 ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\PrivateScreen.js",["125","126","127","128","129","130","131"],"import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./PrivateScreen.css\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { flushAuthData } from \"../../store/UserSlice\";\r\nimport LeftSideBar from \"../dashboard/LeftSideBar\";\r\nimport HeaderComp from \"../dashboard/HeaderComp\";\r\nimport DashboardComp from \"../dashboard/DashboardComp\";\r\n\r\n\r\nconst PrivateScreen = ({history}) => {\r\n  const [error, setError] = useState(\"\");\r\n  const [privateData, setPrivateData] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(state=>state.userAuth.user);\r\n  const logout = async (e)=>{\r\n    e.preventDefault();\r\n    dispatch(flushAuthData());\r\n    history.push(\"/login\");\r\n  }\r\n  \r\n  return error ? (\r\n    <span className=\"error-message\">{error}</span>\r\n  ) : (\r\n    <div className=\"dashboard_page\">\r\n        <HeaderComp />\r\n        <div className=\"dashboard_flex_row\">\r\n            <LeftSideBar />\r\n            <div className='dashboard_comp'>\r\n              <DashboardComp />\r\n            </div>\r\n           \r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrivateScreen;\r\n","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\ForgotPasswordScreen.js",["132"],"import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./ForgotPasswordScreen.css\";\r\nimport UserService from \"../../service/api/UserService\"\r\nconst ForgotPasswordScreen = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const {userForgotPassword} = UserService;\r\n\r\n  const forgotPasswordHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n   \r\n    try {\r\n\r\n      userForgotPassword(email)\r\n      .then((res)=>{\r\n        console.log(res)\r\n        setSuccess(res.data);\r\n      })\r\n      \r\n    } catch (error) {\r\n      setError(error.response.data.error);\r\n      setEmail(\"\");\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"forgotpassword-screen\">\r\n      <form\r\n        onSubmit={forgotPasswordHandler}\r\n        className=\"forgotpassword-screen__form\"\r\n      >\r\n        <h3 className=\"forgotpassword-screen__title\">Forgot Password</h3>\r\n        {error && <span className=\"error-message\">{error}</span>}\r\n        {success && <span className=\"success-message\">{success}</span>}\r\n        <div className=\"form-group\">\r\n          <p className=\"forgotpassword-screen__subtext\">\r\n            Please enter the email address you register your account with. We\r\n            will send you reset password confirmation to this email\r\n          </p>\r\n          <label htmlFor=\"email\">Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            required\r\n            id=\"email\"\r\n            placeholder=\"Email address\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Send Email\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPasswordScreen;\r\n","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\RegisterScreen.js",["133","134"],"import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./RegisterScreen.css\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { getAuthFetch, setUserDetails } from \"../../store/UserSlice\";\r\n\r\nconst RegisterScreen = ({ history }) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const user = useSelector(state=>state.userAuth.user);\r\n  const dispatch = useDispatch();\r\n  const registerHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const config = {\r\n      header: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    if (password !== confirmpassword) {\r\n      setPassword(\"\");\r\n      setConfirmPassword(\"\");\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n      return setError(\"Passwords do not match\");\r\n    }\r\n\r\n    try {\r\n      \r\n      const { data } = await axios.post(\r\n        \"/api/auth/register\",\r\n        {\r\n          username,\r\n          email,\r\n          password,\r\n        },\r\n        config\r\n      );\r\n\r\n      dispatch(setUserDetails(data.data))\r\n\r\n      \r\n\r\n      localStorage.setItem(\"authToken\", data.token);\r\n\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      setError(error.response.data.error);\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-screen\">\r\n      <form onSubmit={registerHandler} className=\"register-screen__form\">\r\n        <h3 className=\"register-screen__title\">Register</h3>\r\n        {error && <span className=\"error-message\">{error}</span>}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"name\">Username:</label>\r\n          <input\r\n            type=\"text\"\r\n            required\r\n            id=\"name\"\r\n            placeholder=\"Enter username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            required\r\n            id=\"email\"\r\n            placeholder=\"Email address\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            required\r\n            id=\"password\"\r\n            autoComplete=\"true\"\r\n            placeholder=\"Enter password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"confirmpassword\">Confirm Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            required\r\n            id=\"confirmpassword\"\r\n            autoComplete=\"true\"\r\n            placeholder=\"Confirm password\"\r\n            value={confirmpassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Register\r\n        </button>\r\n\r\n        <span className=\"register-screen__subtext\">\r\n          Already have an account? <Link to=\"/login\">Login</Link>\r\n        </span>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\ResetPasswordScreen.js",["135","136","137","138","139","140"],"import React, { useState,useEffect } from \"react\";\r\nimport { Link,useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport UserService from \"../../service/api/UserService\";\r\nimport \"./ResetPasswordScreen.css\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst ResetPasswordScreen = ({ history, match }) => {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const {userResetPassword,userFetch} = UserService;\r\n  const user = useSelector(state=>state.userAuth);\r\n  const [user_data, setuser_data] = useState({})\r\n  const {resetToken} = useParams();\r\n  \r\n\r\n  const resetPasswordHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (password !== confirmPassword) {\r\n      setPassword(\"\");\r\n      setConfirmPassword(\"\");\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n      return setError(\"Passwords don't match\");\r\n    }\r\n\r\n    try {\r\n      const payload = {\r\n        \"resetToken\":resetToken,\r\n        \"password\":password\r\n      }\r\n        \r\n      userResetPassword(payload)\r\n      .then((res)=>{\r\n        if(res.success){\r\n          setSuccess(res.data);\r\n        }\r\n      })\r\n\r\n      \r\n    } catch (error) {\r\n      setError(error.response.data.error);\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"resetpassword-screen\">\r\n      <form\r\n        onSubmit={resetPasswordHandler}\r\n        className=\"resetpassword-screen__form\"\r\n      >\r\n        <h3 className=\"resetpassword-screen__title\">Forgot Password</h3>\r\n        {error && <span className=\"error-message\">{error} </span>}\r\n        {success && (\r\n          <span className=\"success-message\">\r\n            {success} <Link to=\"/login\">Login</Link>\r\n          </span>\r\n        )}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">New Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            required\r\n            id=\"password\"\r\n            placeholder=\"Enter new password\"\r\n            autoComplete=\"true\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"confirmpassword\">Confirm New Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            required\r\n            id=\"confirmpassword\"\r\n            placeholder=\"Confirm new password\"\r\n            autoComplete=\"true\"\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Reset Password\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPasswordScreen;\r\n","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\LoginScreen.js",["141","142","143"],"import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./LoginScreen.css\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { getAuthFetch } from \"../../store/UserSlice\";\r\n\r\n\r\nconst LoginScreen = ({ history }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  //const user = useSelector(state=>state.userAuth.user);\r\n  const dispatch = useDispatch();\r\n\r\n  const loginHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const data  = {email,password}\r\n      dispatch(getAuthFetch(data))\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      setError(error.response.data.error);\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-screen\">\r\n      <form onSubmit={loginHandler} className=\"login-screen__form\">\r\n        <h3 className=\"login-screen__title\">Login</h3>\r\n        {error && <span className=\"error-message\">{error}</span>}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            required\r\n            id=\"email\"\r\n            placeholder=\"Email address\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            value={email}\r\n            tabIndex={1}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">\r\n            Password:{\" \"}\r\n            <Link to=\"/forgotpassword\" className=\"login-screen__forgotpassword\">\r\n              Forgot Password?\r\n            </Link>\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            required\r\n            id=\"password\"\r\n            autoComplete=\"true\"\r\n            placeholder=\"Enter password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            value={password}\r\n            tabIndex={2}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Login\r\n        </button>\r\n\r\n        <span className=\"login-screen__subtext\">\r\n          Don't have an account? <Link to=\"/register\">Register</Link>\r\n        </span>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\store\\UserSlice.js",[],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\service\\saga\\userSaga.js",[],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\utils\\endPoint.js",[],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\service\\api\\UserService.js",[],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\store\\RootReducer.js",[],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\service\\saga\\RootSaga.js",[],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\LeftSideBar.js",[],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\HeaderComp.js",[],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\DashboardComp.js",["144","145","146"],"import moment from 'moment';\r\nimport React,{useState,useEffect} from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport NewsService from '../../service/api/NewsService';\r\nimport Loading from '../Loading';\r\n\r\nfunction DashboardComp() {\r\n    const history = useHistory();\r\n    const {newsGet,remNewsGetById} = NewsService;\r\n    const [list, setList] = useState([]);\r\n    const [loading, setloading] = useState(true);\r\n    const [count, setcount] = useState(0);\r\n    const [page, setpage] = useState(1)\r\n\r\n    useEffect(() => {\r\n        newsGet(page,5)\r\n        .then(items => {\r\n            setList(items.data)\r\n            setcount(items.count)\r\n            \r\n            console.log(items)\r\n            setloading(false);\r\n        })\r\n        \r\n      }, [loading,page])\r\n\r\n\r\n    const remNews = async (newsId)=>{\r\n\r\n        if(window.confirm(\"Are you to delete this news\")){\r\n            setloading(true)\r\n            const res = await remNewsGetById(newsId);\r\n            alert(\"Post Deleted...\")\r\n            setloading(false);\r\n        }\r\n       \r\n\r\n    }\r\n    const prevPage = ()=>{\r\n        if(page>1){\r\n            setpage(page-1)\r\n        }\r\n        \r\n    }\r\n    const nextPage = ()=>{\r\n        if(Math.ceil(count/5) > page){\r\n            setpage(page+1)\r\n        }\r\n        \r\n    }\r\n\r\n    if(loading){\r\n        return<Loading />\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            <div className='dashboard_comp_header'>\r\n                <h2>Top Articles</h2>\r\n                <div>    \r\n                    \r\n                <p><button onClick={()=>prevPage()}>Prev</button>{page} / {Math.ceil(count/5)} <button onClick={()=>nextPage()}>Next</button></p> </div>\r\n                   \r\n            </div>\r\n\r\n            <div className='dashboard_articles'>\r\n                {list.map((item,index=0) =>\r\n                    <div className='dashboard_articles_comp' key={index} >\r\n                        <div className='articles_comp_first'>\r\n                            <div className='dashboard_articles_comp_left articles_comp'>\r\n                                <p>{(index+1) + ((page-1) * 5)} </p>\r\n                            </div>\r\n                            <div className='dashboard_articles_comp_center articles_comp'>\r\n                                <img src={item.image}/>\r\n                            </div>\r\n                            <div className='articles_content articles_comp'>\r\n                                <h5>{item?.title.length > 50 ? item?.title?.substring(0,50) : item?.title}</h5>\r\n                                <h5>{item?.content.length > 50 ? item?.content?.substring(0,50) : item?.content}</h5>\r\n                                <p>{moment(item.timestamp).fromNow()}</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='articles_action'>\r\n                            <p onClick={()=>history.push(\"/edit-post/\"+item._id)}>Edit</p>\r\n                            <p onClick={()=>remNews(item._id)}>Delete</p>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n                )}\r\n\r\n               \r\n\r\n            </div>\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DashboardComp","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\AddPostScreen.js",["147","148","149","150","151","152","153","154"],"import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./PrivateScreen.css\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { flushAuthData } from \"../../store/UserSlice\";\r\nimport LeftSideBar from \"../dashboard/LeftSideBar\";\r\nimport HeaderComp from \"../dashboard/HeaderComp\";\r\nimport DashboardComp from \"../dashboard/DashboardComp\";\r\nimport AddPostComp from \"../dashboard/AddPostComp\";\r\n\r\n\r\nconst AddPostScreen = ({history}) => {\r\n  const [error, setError] = useState(\"\");\r\n  const [privateData, setPrivateData] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(state=>state.userAuth.user);\r\n  const logout = async (e)=>{\r\n    e.preventDefault();\r\n    dispatch(flushAuthData());\r\n    history.push(\"/login\");\r\n  }\r\n  \r\n  return error ? (\r\n    <span className=\"error-message\">{error}</span>\r\n  ) : (\r\n    <div className=\"dashboard_page\">\r\n        <HeaderComp />\r\n        <div className=\"dashboard_flex_row\">\r\n            <LeftSideBar/>\r\n            \r\n            <div className='dashboard_comp'>\r\n                <AddPostComp />\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddPostScreen;\r\n","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\AddPostComp.js",["155","156","157","158","159","160","161","162","163","164","165"],"import React, { useState, useEffect } from 'react'\r\nimport { useForm, useFieldArray, Controller } from \"react-hook-form\";\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport NewsService from '../../service/api/NewsService';\r\nimport Select from 'react-select';\r\nfunction AddPostComp() {\r\n    const history = useHistory();\r\n\r\n    const { newsAdd } = NewsService;\r\n    const [image, setimage] = useState(\"\");\r\n\r\n\r\n\r\n    const options = [\r\n        { value: 'chocolate', label: 'Chocolate' },\r\n        { value: 'strawberry', label: 'Strawberry' },\r\n        { value: 'vanilla', label: 'Vanilla' },\r\n    ];\r\n    const [tags, settags] = useState([]);\r\n    const [news_data, setnews_data] = useState({});\r\n\r\n\r\n\r\n    const { control, register, handleSubmit, reset, getValues, setValue, watch, formState: { errors } } = useForm(\r\n    );\r\n\r\n    const [temp_image_link, settemp_image_link] = useState(\"\")\r\n\r\n    const { fields, append, remove } = useFieldArray({\r\n        control,\r\n        name: \"insight_arr\"\r\n    });\r\n\r\n\r\n\r\n    const onSubmit = data => {\r\n\r\n        const res = {\r\n            \"title\": data.title,\r\n            \"content\": data.content,\r\n            \"form_link\": data.form_link,\r\n            \"read_more_link\": data.read_more_link,\r\n            \"timestamp\": Date.now(),\r\n            \"author\": \"shivam\",\r\n            \"image\": data?.image ? data?.image : \"https://yaffa-cdn.s3.amazonaws.com/yaffadsp/images/dmImage/SourceImage/news-corp-359.jpg\",\r\n            \"views\": 1,\r\n            \"tags\": tags,\r\n            \"addAt\": Date.now(),\r\n            \"updatedAt\": Date.now(),\r\n            \"poll_user_responses\": [],\r\n            \"poll_title\": data.poll_title,\r\n            \"news_type\": data.news_type,\r\n            \"insight_arr\": fields\r\n        }\r\n        EditNewsFun(res)\r\n        //console.log(res)\r\n        reset()\r\n        history.push(\"/\")\r\n    };\r\n\r\n\r\n    const EditNewsFun = async (data) => {\r\n        // if (!image) { alert(\"Please attach image...\") }\r\n\r\n        // if (image) {\r\n        //     const res = await newsAdd(data);\r\n        //     console.log(res, \"RES\");\r\n        // }\r\n\r\n        const res = await newsAdd(data);\r\n             console.log(res, \"RES\");\r\n    }\r\n    function encodeImageFileAsURL(file) {\r\n\r\n        var reader = new FileReader();\r\n        reader.onloadend = function () {\r\n            const imagebase64 = reader.result;\r\n            setimage(imagebase64)\r\n        }\r\n        reader.readAsDataURL(file);\r\n    }\r\n    const uploadImage = (file) => {\r\n        const data = new FormData()\r\n        data.append(\"file\", file)\r\n        data.append(\"upload_preset\", \"tutorial\")\r\n        data.append(\"cloud_name\", \"breellz\")\r\n        fetch(\"CLOUDINARY_URL=cloudinary://254498432442583:qlgePH-Lq0iMY_A-DJlZh_N-cc4@dtyoyswcx\", {\r\n            method: \"post\",\r\n            body: data\r\n        })\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                setimage(data.url)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    useEffect(() => {\r\n        const subscription = watch((value, { name, type }) => console.log(value, name, type));\r\n        return () => subscription.unsubscribe();\r\n    }, [watch]);\r\n    const watchAllFields = watch();\r\n\r\n    const myStyle={\r\n\r\n        width:'20%',\r\n        height:'200px',\r\n    };\r\n    return (\r\n        <div className='add_post_form'>\r\n            <div className='add_post_form_head'>\r\n                <h2>Add Post</h2>\r\n            </div>\r\n\r\n\r\n            <div className='add_post_form'>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <div className='post_form_comp'>\r\n                        <label>Title</label>\r\n                        <input {...register(\"title\", { required: true })} />\r\n                        {errors.title && <span className='error'>Title is required</span>}\r\n                    </div>\r\n\r\n                    <div className='post_form_comp'>\r\n                        <label>Description</label>\r\n                        <input {...register(\"content\", { required: true })} />\r\n                        {errors.content && <span className='error'>Description field is required</span>}\r\n                    </div>\r\n                    <div className='post_form_comp'>\r\n                        <label>Form Link (optional)</label>\r\n                        <input {...register(\"form_link\", { required: false })} />\r\n\r\n                    </div>\r\n                    <div className='post_form_comp'>\r\n                        <label>Read More Link </label>\r\n                        <input {...register(\"read_more_link\", { required: false })} />\r\n                        {errors.read_more_link && <span className='error'>Read More Link field is required</span>}\r\n                    </div>\r\n                    <div className='post_form_comp'>\r\n                        <label>News Type </label>\r\n                        <select {...register(\"news_type\", { required: false })}  >\r\n                            <option value=\"feed\">feed</option>\r\n                            <option value=\"slide\">slide</option>\r\n                            <option value=\"insight\">insight</option>\r\n                        </select>\r\n                        {errors.news_type && <span className='error'>News Type field is required</span>}\r\n\r\n                    </div>\r\n                    {watchAllFields.news_type === \"insight\" && <div className='post_form_comp'>\r\n                        <label>Insight Images Link </label>\r\n                        <input type=\"text\" onChange={(e)=>settemp_image_link(e.target.value)} value={temp_image_link} placeholder='Image Link'/>\r\n                        <ul>\r\n                            {fields.map((item, index) => (\r\n                                <li key={item.id} className='post_form_comp flex_row'>\r\n                                    <p>{index+1}  </p>\r\n                                    <img src={fields[index].image} style={{width:100,height:100,marginBottom:5}}/>\r\n                                    <button  className='dynamic_button' type=\"button\" onClick={() => remove(index)}>Delete</button>\r\n                                </li>\r\n                            ))}\r\n                            <button\r\n                                className='dynamic_button'\r\n                                type=\"button\"\r\n                                onClick={() => {append({_id:Date.now()+\"image\", image: temp_image_link });settemp_image_link(\"\")}}\r\n                            >\r\n                                Add \r\n                            </button>\r\n                        </ul>\r\n\r\n\r\n                        {errors.news_type && <span className='error'>News Type field is required</span>}\r\n\r\n                    </div>}\r\n\r\n\r\n                    <div className='post_form_comp'>\r\n                        <label>Poll Title ( IF THIS IS FOR POLL)</label>\r\n                        <input {...register(\"poll_title\", { required: false })} />\r\n                        {errors.poll_title && <span className='error'>Poll Title field is required</span>}\r\n                    </div>\r\n                    <div className='post_form_comp'>\r\n                        <label>Image</label>\r\n                        {/* <div className='dashboard_articles_comp_center articles_comp'>\r\n                            <img src={image} />\r\n                        </div>\r\n\r\n                        <input type=\"file\" accept=\"image/jpeg, image/png\" onChange={(e) => encodeImageFileAsURL(e.target.files[0])} /> */}\r\n                        <input {...register(\"image\", { required: false })} />\r\n                        {errors.image && <span className='error'>image Link field is required</span>}\r\n\r\n                    </div>\r\n                    <div className='post_form_comp'>\r\n                        <label>Tags</label>\r\n                        <Select\r\n                            defaultValue={tags}\r\n                            onChange={settags}\r\n                            options={options}\r\n                            isMulti={true}\r\n\r\n                            isSearchable={true}\r\n                        />\r\n\r\n                    </div>\r\n\r\n\r\n                    <input type=\"submit\" className='button' />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddPostComp","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\AddSliderScreen.js",["166","167","168","169","170","171","172","173","174"],"import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./PrivateScreen.css\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { flushAuthData } from \"../../store/UserSlice\";\r\nimport LeftSideBar from \"../dashboard/LeftSideBar\";\r\nimport HeaderComp from \"../dashboard/HeaderComp\";\r\nimport DashboardComp from \"../dashboard/DashboardComp\";\r\nimport AddPostComp from \"../dashboard/AddPostComp\";\r\nimport AddSliderComp from \"../dashboard/AddSliderComp\";\r\n\r\n\r\nconst AddSliderScreen = ({history}) => {\r\n  const [error, setError] = useState(\"\");\r\n  const [privateData, setPrivateData] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(state=>state.userAuth.user);\r\n  const logout = async (e)=>{\r\n    e.preventDefault();\r\n    dispatch(flushAuthData());\r\n    history.push(\"/login\");\r\n  }\r\n  \r\n  return error ? (\r\n    <span className=\"error-message\">{error}</span>\r\n  ) : (\r\n    <div className=\"dashboard_page\">\r\n        <HeaderComp />\r\n        <div className=\"dashboard_flex_row\">\r\n            <LeftSideBar />\r\n            \r\n            <div className='dashboard_comp'>\r\n                <AddSliderComp />\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddSliderScreen;\r\n","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\AddSliderComp.js",["175","176"],"import React, { useRef } from 'react'\r\nimport { useForm } from \"react-hook-form\";\r\n\r\n\r\nfunction AddSliderComp() {\r\n    const { register, handleSubmit,reset, watch, formState: { errors } } = useForm();\r\n    const onSubmit = data => {\r\n        console.log(data)\r\n        reset()\r\n    };\r\n    return (\r\n        <div className='add_post_form'>\r\n            <div className='add_post_form_head'>\r\n                <h2>Add Slide</h2>\r\n            </div>\r\n\r\n            <div className='add_post_form'>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                <div className='post_form_comp'>\r\n                        <label>Title</label>\r\n                        <input {...register(\"title\", { required: true })} />\r\n                        {errors.title && <span className='error'>Title is required</span>}\r\n                    </div>\r\n\r\n                    <div className='post_form_comp'>\r\n                        <label>Description</label>\r\n                        <input {...register(\"content\", { required: true })} />\r\n                        {errors.content && <span  className='error'>Description field is required</span>}\r\n                    </div>\r\n                    <div className='post_form_comp'>\r\n                        <label>Description</label>\r\n                        <input type=\"file\" {...register(\"image\", { required: true })} />\r\n                        {errors.image && <span  className='error'>Image field is required</span>}\r\n                    </div>\r\n                    \r\n\r\n                    <input type=\"submit\" className='button'/>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddSliderComp","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\service\\api\\NewsService.js",[],"C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\screens\\EditPostScreen.js",["177","178","179","180","181","182","183","184","185"],"import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./PrivateScreen.css\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { flushAuthData } from \"../../store/UserSlice\";\r\nimport LeftSideBar from \"../dashboard/LeftSideBar\";\r\nimport HeaderComp from \"../dashboard/HeaderComp\";\r\nimport DashboardComp from \"../dashboard/DashboardComp\";\r\nimport EditPostComp from \"../dashboard/EditPostComp\";\r\n\r\n\r\nconst EditPostScreen = ({history}) => {\r\n  const [error, setError] = useState(\"\");\r\n  const [privateData, setPrivateData] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(state=>state.userAuth.user);\r\n    \r\n  \r\n  return error ? (\r\n    <span className=\"error-message\">{error}</span>\r\n  ) : (\r\n    <div className=\"dashboard_page\">\r\n        <HeaderComp />\r\n        <div className=\"dashboard_flex_row\">\r\n            <LeftSideBar />\r\n            \r\n            <div className='dashboard_comp'>\r\n                <EditPostComp />\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditPostScreen;\r\n","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\dashboard\\EditPostComp.js",["186","187","188","189","190","191","192","193","194","195","196"],"import React, { useState, useEffect } from 'react'\r\nimport { useForm, useFieldArray, Controller } from \"react-hook-form\";\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport NewsService from '../../service/api/NewsService';\r\nimport Select from 'react-select';\r\nfunction EditPostComp() {\r\n    const history = useHistory();\r\n\r\n    const { newsEdit, newsGetById } = NewsService;\r\n    const { newsId } = useParams();\r\n    const [image, setimage] = useState(\"\");\r\n\r\n    const [temp_image_link, settemp_image_link] = useState(\"\");\r\n\r\n    const [options, setoptions] = useState([{ value: 'chocolate', label: 'Chocolate' },\r\n    { value: 'strawberry', label: 'Strawberry' },\r\n    { value: 'vanilla', label: 'Vanilla' },])\r\n\r\n    \r\n    const [tags, settags] = useState([]);\r\n    const [news_data, setnews_data] = useState({});\r\n    useEffect(() => {\r\n        newsGetById(newsId)\r\n            .then(item => {\r\n                setnews_data(item.data);\r\n                settags(item.data.tags)\r\n                setimage(item.data.image)\r\n               \r\n            })\r\n    }, [newsId])\r\n\r\n\r\n   \r\n    const { control, register, handleSubmit, reset, getValues, setValue, watch, formState: { errors } } = useForm({\r\n        defaultValues:news_data,\r\n        insight_arr: news_data?.insight_arr\r\n    }\r\n        );\r\n    \r\n        const { fields, append, remove } = useFieldArray({\r\n            control,\r\n            name: \"insight_arr\",\r\n        });\r\n        \r\n        useEffect(() => {\r\n            reset({\r\n              insight_arr:news_data?.insight_arr\r\n            });\r\n          }, [news_data]);\r\n\r\n    useEffect(() => {\r\n        reset(news_data);\r\n    }, [news_data]);\r\n\r\n\r\n    const onSubmit = data => {\r\n\r\n        console.log(data,\"------\")\r\n        const res = {\r\n            \"title\": data.title,\r\n            \"content\": data.content,\r\n            \"form_link\":data.form_link,\r\n            \"read_more_link\":data.read_more_link,\r\n            \"timestamp\": Date.now(),\r\n            \"author\": \"shivam\",\r\n            \"image\": data?.image ? data?.image : \"https://yaffa-cdn.s3.amazonaws.com/yaffadsp/images/dmImage/SourceImage/news-corp-359.jpg\",\r\n            \"views\": 1,\r\n            \"tags\":tags,\r\n            \"addAt\": Date.now(),\r\n            \"updatedAt\": Date.now(),\r\n            \"poll_user_responses\":[],\r\n            \"poll_title\":data.poll_title,\r\n            \"news_type\":data.news_type,\r\n            \"insight_arr\": fields\r\n        }\r\n        EditNewsFun(res)\r\n        //console.log(res)\r\n        reset()\r\n        \r\n    };\r\n\r\n\r\n    const EditNewsFun = async (data) => {\r\n        // if (!image) { alert(\"Please attach image...\") }\r\n\r\n        // if (image) {\r\n        //     const res = await newsEdit(data);\r\n        //     console.log(res, \"RES\");\r\n        // }\r\n\r\n        // console.log(data,\"->>>>>>>>\")\r\n\r\n        const res = await newsEdit(data,newsId);\r\n             console.log(res, \"RES\");\r\n             history.push(\"/\")\r\n    }\r\n    function encodeImageFileAsURL(file) {\r\n\r\n        var reader = new FileReader();\r\n        reader.onloadend = function () {\r\n            const imagebase64 = reader.result;\r\n            setimage(imagebase64)\r\n        }\r\n        reader.readAsDataURL(file);\r\n    }\r\n    const uploadImage = (file) => {\r\n        const data = new FormData()\r\n        data.append(\"file\", file)\r\n        data.append(\"upload_preset\", \"tutorial\")\r\n        data.append(\"cloud_name\", \"breellz\")\r\n        fetch(\"CLOUDINARY_URL=cloudinary://254498432442583:qlgePH-Lq0iMY_A-DJlZh_N-cc4@dtyoyswcx\", {\r\n            method: \"post\",\r\n            body: data\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n            console.log(data)\r\n            setimage(data.url)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    useEffect(() => {\r\n        const subscription = watch((value, { name, type }) => console.log(value, name, type));\r\n        return () => subscription.unsubscribe();\r\n    }, [watch]);\r\n    const watchAllFields = watch();\r\n\r\n\r\n\r\n    return (\r\n        <div className='add_post_form'>\r\n            <div className='add_post_form_head'>\r\n                <h2>Edit Post</h2>\r\n            </div>\r\n\r\n            <div className='add_post_form'>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <div className='post_form_comp'>\r\n                        <label>Title</label>\r\n                        <input {...register(\"title\", { required: true })} />\r\n                        {errors.title && <span className='error'>Title is required</span>}\r\n                    </div>\r\n\r\n                    <div className='post_form_comp'>\r\n                        <label>Description</label>\r\n                        <input {...register(\"content\", { required: true })} />\r\n                        {errors.content && <span className='error'>Description field is required</span>}\r\n                    </div>\r\n                    <div className='post_form_comp'>\r\n                        <label>Form Link (optional)</label>\r\n                        <input {...register(\"form_link\", { required: false })} />\r\n                        \r\n                    </div>\r\n                    <div className='post_form_comp'>\r\n                        <label>Read More Link </label>\r\n                        <input {...register(\"read_more_link\", { required: false })} />\r\n                        {errors.read_more_link && <span className='error'>Read More Link field is required</span>}\r\n                    </div>\r\n                    <div className='post_form_comp'>\r\n                        <label>News Type </label>\r\n                        <select {...register(\"news_type\", { required: false })}  >\r\n                            <option value=\"feed\">feed</option>\r\n                            <option value=\"slide\">slide</option>\r\n                            <option value=\"insight\">insight</option>\r\n                        </select>\r\n                        {errors.news_type && <span className='error'>News Type field is required</span>}\r\n\r\n                    </div>\r\n                     {watchAllFields.news_type === \"insight\" && <div className='post_form_comp'>\r\n                        <label>Insight Images Link </label>\r\n                        <input type=\"text\" onChange={(e)=>settemp_image_link(e.target.value)} value={temp_image_link} placeholder='Image Link'/>\r\n                        <ul>\r\n                            {fields.map((item, index) => (\r\n                                <li key={item.id} className='post_form_comp flex_row'>\r\n                                    <p>{index+1}  </p>\r\n                                    <img src={fields[index].image} style={{width:100,height:100,marginBottom:5}}/>\r\n                                    <button  className='dynamic_button' type=\"button\" onClick={() => remove(index)}>Delete</button>\r\n                                </li>\r\n                            ))}\r\n                            <button\r\n                                className='dynamic_button'\r\n                                type=\"button\"\r\n                                onClick={() => {append({ image: temp_image_link });settemp_image_link(\"\")}}\r\n                            >\r\n                                Add \r\n                            </button>\r\n                        </ul>\r\n\r\n\r\n                        {errors.news_type && <span className='error'>News Type field is required</span>}\r\n\r\n                    </div>}\r\n                    <div className='post_form_comp'>\r\n                        <label>Poll Title ( IF THIS IS FOR POLL)</label>\r\n                        <input {...register(\"poll_title\", { required: false })} />\r\n                        {errors.poll_title && <span className='error'>Poll Title field is required</span>}\r\n                    </div>\r\n\r\n                    \r\n\r\n                    <div className='post_form_comp'>\r\n                        <label>Image</label>\r\n                        {/* <div className='dashboard_articles_comp_center articles_comp'>\r\n                            <img src={image} />\r\n                        </div>\r\n\r\n                        <input type=\"file\" accept=\"image/jpeg, image/png\" onChange={(e) => encodeImageFileAsURL(e.target.files[0])} /> */}\r\n                        <input {...register(\"image\", { required: false })} />\r\n                        {errors.image && <span className='error'>image Link field is required</span>}\r\n\r\n                    </div>\r\n                    <div className='post_form_comp'>\r\n                    <label>Tags</label>\r\n                    <Select\r\n                        defaultValue={tags}\r\n                        onChange={settags}\r\n                        options={options}\r\n                        isMulti={true}\r\n                        value={tags}\r\n                        \r\n                        isSearchable={true}\r\n                    />\r\n\r\n                    </div>\r\n                   \r\n\r\n                    <input type=\"submit\" className='button' />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditPostComp","C:\\Users\\shinamde\\Desktop\\NARIVE\\toprathi-admin\\client\\src\\components\\Loading.js",[],{"ruleId":"197","replacedBy":"198"},{"ruleId":"199","replacedBy":"200"},{"ruleId":"201","severity":1,"message":"202","line":16,"column":10,"nodeType":"203","messageId":"204","endLine":16,"endColumn":21},{"ruleId":"201","severity":1,"message":"205","line":5,"column":9,"nodeType":"203","messageId":"204","endLine":5,"endColumn":17},{"ruleId":"201","severity":1,"message":"206","line":1,"column":20,"nodeType":"203","messageId":"204","endLine":1,"endColumn":29},{"ruleId":"201","severity":1,"message":"207","line":2,"column":8,"nodeType":"203","messageId":"204","endLine":2,"endColumn":13},{"ruleId":"201","severity":1,"message":"208","line":12,"column":17,"nodeType":"203","messageId":"204","endLine":12,"endColumn":25},{"ruleId":"201","severity":1,"message":"209","line":13,"column":10,"nodeType":"203","messageId":"204","endLine":13,"endColumn":21},{"ruleId":"201","severity":1,"message":"210","line":13,"column":23,"nodeType":"203","messageId":"204","endLine":13,"endColumn":37},{"ruleId":"201","severity":1,"message":"211","line":15,"column":9,"nodeType":"203","messageId":"204","endLine":15,"endColumn":13},{"ruleId":"201","severity":1,"message":"212","line":16,"column":9,"nodeType":"203","messageId":"204","endLine":16,"endColumn":15},{"ruleId":"201","severity":1,"message":"207","line":2,"column":8,"nodeType":"203","messageId":"204","endLine":2,"endColumn":13},{"ruleId":"201","severity":1,"message":"213","line":6,"column":10,"nodeType":"203","messageId":"204","endLine":6,"endColumn":22},{"ruleId":"201","severity":1,"message":"211","line":14,"column":9,"nodeType":"203","messageId":"204","endLine":14,"endColumn":13},{"ruleId":"201","severity":1,"message":"206","line":1,"column":26,"nodeType":"203","messageId":"204","endLine":1,"endColumn":35},{"ruleId":"201","severity":1,"message":"207","line":3,"column":8,"nodeType":"203","messageId":"204","endLine":3,"endColumn":13},{"ruleId":"201","severity":1,"message":"214","line":13,"column":28,"nodeType":"203","messageId":"204","endLine":13,"endColumn":37},{"ruleId":"201","severity":1,"message":"211","line":14,"column":9,"nodeType":"203","messageId":"204","endLine":14,"endColumn":13},{"ruleId":"201","severity":1,"message":"215","line":15,"column":10,"nodeType":"203","messageId":"204","endLine":15,"endColumn":19},{"ruleId":"201","severity":1,"message":"216","line":15,"column":21,"nodeType":"203","messageId":"204","endLine":15,"endColumn":33},{"ruleId":"201","severity":1,"message":"206","line":1,"column":20,"nodeType":"203","messageId":"204","endLine":1,"endColumn":29},{"ruleId":"201","severity":1,"message":"207","line":2,"column":8,"nodeType":"203","messageId":"204","endLine":2,"endColumn":13},{"ruleId":"201","severity":1,"message":"217","line":5,"column":22,"nodeType":"203","messageId":"204","endLine":5,"endColumn":33},{"ruleId":"218","severity":1,"message":"219","line":25,"column":10,"nodeType":"220","endLine":25,"endColumn":24,"suggestions":"221"},{"ruleId":"201","severity":1,"message":"222","line":32,"column":19,"nodeType":"203","messageId":"204","endLine":32,"endColumn":22},{"ruleId":"223","severity":1,"message":"224","line":74,"column":33,"nodeType":"225","endLine":74,"endColumn":56},{"ruleId":"201","severity":1,"message":"206","line":1,"column":20,"nodeType":"203","messageId":"204","endLine":1,"endColumn":29},{"ruleId":"201","severity":1,"message":"207","line":2,"column":8,"nodeType":"203","messageId":"204","endLine":2,"endColumn":13},{"ruleId":"201","severity":1,"message":"226","line":8,"column":8,"nodeType":"203","messageId":"204","endLine":8,"endColumn":21},{"ruleId":"201","severity":1,"message":"208","line":13,"column":17,"nodeType":"203","messageId":"204","endLine":13,"endColumn":25},{"ruleId":"201","severity":1,"message":"209","line":14,"column":10,"nodeType":"203","messageId":"204","endLine":14,"endColumn":21},{"ruleId":"201","severity":1,"message":"210","line":14,"column":23,"nodeType":"203","messageId":"204","endLine":14,"endColumn":37},{"ruleId":"201","severity":1,"message":"211","line":16,"column":9,"nodeType":"203","messageId":"204","endLine":16,"endColumn":13},{"ruleId":"201","severity":1,"message":"212","line":17,"column":9,"nodeType":"203","messageId":"204","endLine":17,"endColumn":15},{"ruleId":"201","severity":1,"message":"227","line":2,"column":34,"nodeType":"203","messageId":"204","endLine":2,"endColumn":44},{"ruleId":"201","severity":1,"message":"228","line":3,"column":22,"nodeType":"203","messageId":"204","endLine":3,"endColumn":31},{"ruleId":"201","severity":1,"message":"229","line":10,"column":12,"nodeType":"203","messageId":"204","endLine":10,"endColumn":17},{"ruleId":"201","severity":1,"message":"230","line":20,"column":12,"nodeType":"203","messageId":"204","endLine":20,"endColumn":21},{"ruleId":"201","severity":1,"message":"231","line":20,"column":23,"nodeType":"203","messageId":"204","endLine":20,"endColumn":35},{"ruleId":"201","severity":1,"message":"232","line":24,"column":53,"nodeType":"203","messageId":"204","endLine":24,"endColumn":62},{"ruleId":"201","severity":1,"message":"233","line":24,"column":64,"nodeType":"203","messageId":"204","endLine":24,"endColumn":72},{"ruleId":"201","severity":1,"message":"234","line":73,"column":14,"nodeType":"203","messageId":"204","endLine":73,"endColumn":34},{"ruleId":"201","severity":1,"message":"235","line":82,"column":11,"nodeType":"203","messageId":"204","endLine":82,"endColumn":22},{"ruleId":"201","severity":1,"message":"236","line":105,"column":11,"nodeType":"203","messageId":"204","endLine":105,"endColumn":18},{"ruleId":"223","severity":1,"message":"224","line":157,"column":37,"nodeType":"225","endLine":157,"endColumn":115},{"ruleId":"201","severity":1,"message":"206","line":1,"column":20,"nodeType":"203","messageId":"204","endLine":1,"endColumn":29},{"ruleId":"201","severity":1,"message":"207","line":2,"column":8,"nodeType":"203","messageId":"204","endLine":2,"endColumn":13},{"ruleId":"201","severity":1,"message":"226","line":8,"column":8,"nodeType":"203","messageId":"204","endLine":8,"endColumn":21},{"ruleId":"201","severity":1,"message":"237","line":9,"column":8,"nodeType":"203","messageId":"204","endLine":9,"endColumn":19},{"ruleId":"201","severity":1,"message":"208","line":14,"column":17,"nodeType":"203","messageId":"204","endLine":14,"endColumn":25},{"ruleId":"201","severity":1,"message":"209","line":15,"column":10,"nodeType":"203","messageId":"204","endLine":15,"endColumn":21},{"ruleId":"201","severity":1,"message":"210","line":15,"column":23,"nodeType":"203","messageId":"204","endLine":15,"endColumn":37},{"ruleId":"201","severity":1,"message":"211","line":17,"column":9,"nodeType":"203","messageId":"204","endLine":17,"endColumn":13},{"ruleId":"201","severity":1,"message":"212","line":18,"column":9,"nodeType":"203","messageId":"204","endLine":18,"endColumn":15},{"ruleId":"201","severity":1,"message":"238","line":1,"column":17,"nodeType":"203","messageId":"204","endLine":1,"endColumn":23},{"ruleId":"201","severity":1,"message":"239","line":6,"column":43,"nodeType":"203","messageId":"204","endLine":6,"endColumn":48},{"ruleId":"201","severity":1,"message":"206","line":1,"column":20,"nodeType":"203","messageId":"204","endLine":1,"endColumn":29},{"ruleId":"201","severity":1,"message":"207","line":2,"column":8,"nodeType":"203","messageId":"204","endLine":2,"endColumn":13},{"ruleId":"201","severity":1,"message":"240","line":5,"column":10,"nodeType":"203","messageId":"204","endLine":5,"endColumn":23},{"ruleId":"201","severity":1,"message":"226","line":8,"column":8,"nodeType":"203","messageId":"204","endLine":8,"endColumn":21},{"ruleId":"201","severity":1,"message":"208","line":13,"column":17,"nodeType":"203","messageId":"204","endLine":13,"endColumn":25},{"ruleId":"201","severity":1,"message":"209","line":14,"column":10,"nodeType":"203","messageId":"204","endLine":14,"endColumn":21},{"ruleId":"201","severity":1,"message":"210","line":14,"column":23,"nodeType":"203","messageId":"204","endLine":14,"endColumn":37},{"ruleId":"201","severity":1,"message":"241","line":15,"column":9,"nodeType":"203","messageId":"204","endLine":15,"endColumn":17},{"ruleId":"201","severity":1,"message":"211","line":16,"column":9,"nodeType":"203","messageId":"204","endLine":16,"endColumn":13},{"ruleId":"201","severity":1,"message":"227","line":2,"column":34,"nodeType":"203","messageId":"204","endLine":2,"endColumn":44},{"ruleId":"201","severity":1,"message":"229","line":11,"column":12,"nodeType":"203","messageId":"204","endLine":11,"endColumn":17},{"ruleId":"201","severity":1,"message":"242","line":15,"column":21,"nodeType":"203","messageId":"204","endLine":15,"endColumn":31},{"ruleId":"218","severity":1,"message":"243","line":30,"column":8,"nodeType":"220","endLine":30,"endColumn":16,"suggestions":"244"},{"ruleId":"201","severity":1,"message":"232","line":34,"column":53,"nodeType":"203","messageId":"204","endLine":34,"endColumn":62},{"ruleId":"201","severity":1,"message":"233","line":34,"column":64,"nodeType":"203","messageId":"204","endLine":34,"endColumn":72},{"ruleId":"218","severity":1,"message":"245","line":49,"column":14,"nodeType":"220","endLine":49,"endColumn":25,"suggestions":"246"},{"ruleId":"218","severity":1,"message":"245","line":53,"column":8,"nodeType":"220","endLine":53,"endColumn":19,"suggestions":"247"},{"ruleId":"201","severity":1,"message":"234","line":97,"column":14,"nodeType":"203","messageId":"204","endLine":97,"endColumn":34},{"ruleId":"201","severity":1,"message":"235","line":106,"column":11,"nodeType":"203","messageId":"204","endLine":106,"endColumn":22},{"ruleId":"223","severity":1,"message":"224","line":177,"column":37,"nodeType":"225","endLine":177,"endColumn":115},"no-native-reassign",["248"],"no-negated-in-lhs",["249"],"no-unused-vars","'useDispatch' is defined but never used.","Identifier","unusedVar","'location' is assigned a value but never used.","'useEffect' is defined but never used.","'axios' is defined but never used.","'setError' is assigned a value but never used.","'privateData' is assigned a value but never used.","'setPrivateData' is assigned a value but never used.","'user' is assigned a value but never used.","'logout' is assigned a value but never used.","'getAuthFetch' is defined but never used.","'userFetch' is assigned a value but never used.","'user_data' is assigned a value but never used.","'setuser_data' is assigned a value but never used.","'useSelector' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'newsGet'. Either include it or remove the dependency array.","ArrayExpression",["250"],"'res' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'DashboardComp' is defined but never used.","'Controller' is defined but never used.","'useParams' is defined but never used.","'image' is assigned a value but never used.","'news_data' is assigned a value but never used.","'setnews_data' is assigned a value but never used.","'getValues' is assigned a value but never used.","'setValue' is assigned a value but never used.","'encodeImageFileAsURL' is defined but never used.","'uploadImage' is assigned a value but never used.","'myStyle' is assigned a value but never used.","'AddPostComp' is defined but never used.","'useRef' is defined but never used.","'watch' is assigned a value but never used.","'flushAuthData' is defined but never used.","'dispatch' is assigned a value but never used.","'setoptions' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'newsGetById'. Either include it or remove the dependency array.",["251"],"React Hook useEffect has a missing dependency: 'reset'. Either include it or remove the dependency array.",["252"],["253"],"no-global-assign","no-unsafe-negation",{"desc":"254","fix":"255"},{"desc":"256","fix":"257"},{"desc":"258","fix":"259"},{"desc":"258","fix":"260"},"Update the dependencies array to be: [loading, newsGet, page]",{"range":"261","text":"262"},"Update the dependencies array to be: [newsGetById, newsId]",{"range":"263","text":"264"},"Update the dependencies array to be: [news_data, reset]",{"range":"265","text":"266"},{"range":"267","text":"266"},[767,781],"[loading, newsGet, page]",[1081,1089],"[newsGetById, newsId]",[1589,1600],"[news_data, reset]",[1663,1674]]